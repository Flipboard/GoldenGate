apply plugin: 'java'
apply plugin: 'maven'

sourceCompatibility = 1.7
version = "1.0.5"
group = "com.flipboard.goldengate"

configurations {
    provided
    archives {
        extendsFrom configurations.default
    }
}

sourceSets {
    main {
        compileClasspath += configurations.provided
    }
}

uploadArchives {
    configuration = configurations.archives
    repositories.mavenDeployer {
        repository(url: "http://maven.live.flipboard.com:8081/artifactory/libs-release-local")

        pom.project {
            name 'GoldenGate'
            packaging 'jar'
            description 'Generate type safe java bridge into webview javascript code'
            url 'https://github.com/flipboard/GoldenGate'
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.google.code.gson:gson:2.3.1'
    provided 'android:android:5.0.1_r2'
}