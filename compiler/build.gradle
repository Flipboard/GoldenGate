apply plugin: 'java'
apply plugin: 'maven'

sourceCompatibility = 1.7
version = "1.0.4"
group = "com.flipboard.goldengate"

configurations {
    archives {
        extendsFrom configurations.default
    }
}

sourceSets {
    main {
        java {
            srcDirs = ['src/main/java', '../api/src/main/java']
        }
    }
}

uploadArchives {
    configuration = configurations.archives
    repositories.mavenDeployer {
        repository(url: "http://maven.live.flipboard.com:8081/artifactory/libs-release-local")

        pom.project {
            name 'Android javascript bridging library'
            packaging 'jar'
            description 'Generate type safe java bridge into webview javascript code'
            url 'https://github.com/flipboard/GoldenGate'
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile project(':api')
    compile 'com.squareup:javapoet:1.0.0'
    compile 'android:android:5.0.1_r2'
}